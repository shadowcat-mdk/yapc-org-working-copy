<HTML>
<!-- *** Created by pp2html, build 1.22 from PerlPoint-Converters 0.1001  -->
<HEAD>
<TITLE>Set up Active Contents handling</TITLE>
</HEAD>
<!-- ************************************************************** -->
<BODY bgcolor="#FFFFFF" text="#000000" link="#0000CC" vlink="#AAAAAA" alink="#FF0000">
<!--
  *** NAVIGATION BAR =================================================
  $Revision: 1.1 $
  $Date: 2001/06/14 12:00:56 $
-->

<TABLE> 
<TR>
  <TD colspan=3 >
    Next: <a href="slide0025.htm">The parser call</a>
    &nbsp;&nbsp;Previous: <a href="slide0023.htm">Foreign tag integration</a>
     &nbsp;&nbsp;Contents: <a href="slide0000.htm" target="Index">Contents</a>
  </td>
</TR>
</TABLE>
<a name="Set up Active Contents handling">

<H1>4.7 Set up Active Contents handling
</H1>


<P>
If the special opcode <CODE>ALL</CODE> was passed, all embedded Perl operations are permitted and there's no need to perform them in a compartment provided by the <B><CODE>Safe</CODE></B> module. This is flagged by a true <I>scalar</I> value. Otherwise, we need to construct a <CODE>Safe</CODE> object and to configure it according to the opcode settings.
</P>


<TABLE BORDER=2 CELLPADDING=5 WIDTH=80%><TR><TD bgcolor="#e5e5e5"><PRE>
<FONT COLOR="#000000">
  # Set up active contents handling. By default, we use a Safe object.
  my $safe=new Safe;
  if (exists $options{safeOpcode})
   {
    unless (grep($_ eq 'ALL', @{$options{safeOpcode}}))
      {
       # configure compartment
       $safe-&gt;permit(@{$options{safeOpcode}});
      }
    else
      {
       # simply flag that we want to execute active contents
       $safe=1;
      }
   }
</FONT></PRE></TD></TR></TABLE>


<P>
The variable <CODE>$safe</CODE> which is prepared by this code is intended to be passed to the parser soon.
</P>
<!--
  *** NAVIGATION BAR =================================================
  $Revision: 1.1 $
  $Date: 2001/06/14 12:00:56 $
-->

<TABLE> 
<TR>
  <TD colspan=3 >
    Next: <a href="slide0025.htm">The parser call</a>
    &nbsp;&nbsp;Previous: <a href="slide0023.htm">Foreign tag integration</a>
     &nbsp;&nbsp;Contents: <a href="slide0000.htm" target="Index">Contents</a>
  </td>
</TR>
</TABLE>
</BODY>
</HTML>
